//@version=5
indicator(title="Yearly Open", overlay=true)

yearlyopen = request.security(syminfo.tickerid, '12M', open, lookahead=barmerge.lookahead_on)
iscurrentyear = year(timenow) == year(time)
plotyearlyopen = iscurrentyear

if plotyearlyopen
    line.new(time, yearlyopen, time+2, yearlyopen, xloc=xloc.bar_time, extend=extend.right, width=2)
plot(plotyearlyopen ? yearlyopen : na, linewidth=2, color=color.new(color.blue, 0))
